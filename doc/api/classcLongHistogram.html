<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OMNeT++/OMNEST Simulation Library: cLongHistogram Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>cLongHistogram Class Reference<br>
<small>
[<a class="el" href="group__Statistics.html">Statistical data collection</a>]</small>
</h1><!-- doxytag: class="cLongHistogram" --><!-- doxytag: inherits="cEqdHistogramBase" --><code>#include &lt;<a class="el" href="chist_8h-source.html">chist.h</a>&gt;</code>
<p>
<p>Inheritance diagram for cLongHistogram:
<p><center><img src="classcLongHistogram.png" usemap="#cLongHistogram_map" border="0" alt=""></center>
<map name="cLongHistogram_map">
<area href="classcEqdHistogramBase.html" alt="cEqdHistogramBase" shape="rect" coords="0,336,124,360">
<area href="classcHistogramBase.html" alt="cHistogramBase" shape="rect" coords="0,280,124,304">
<area href="classcDensityEstBase.html" alt="cDensityEstBase" shape="rect" coords="0,224,124,248">
<area href="classcStdDev.html" alt="cStdDev" shape="rect" coords="0,168,124,192">
<area href="classcStatistic.html" alt="cStatistic" shape="rect" coords="0,112,124,136">
<area href="classcObject.html" alt="cObject" shape="rect" coords="0,56,124,80">
<area href="classcPolymorphic.html" alt="cPolymorphic" shape="rect" coords="0,0,124,24">
</map>
<a href="classcLongHistogram-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Equidistant histogram for integers. 
<p>
<a class="el" href="classcLongHistogram.html">cLongHistogram</a> is derived from <a class="el" href="classcEqdHistogramBase.html">cEqdHistogramBase</a>, which contains most of the functionality.<p>
The histogram will be set up in the following way:<ul>
<li>the cell size is - by definition - always integer.</li><li>currently, cell boundaries are at halves (for example 9.5, 10.5); this may change in further releases.</li><li>the number of cells is exactly <em>num_cells</em>, if specified using <a class="el" href="classcHistogramBase.html#db25c6c683a19530149abecdc2267e93">setNumCells()</a> or as an argument to the constructor;</li><li>if the number of cells is not specified, there will be one cell for every integer in the histogram range, but maximum 10,000 cells. Above 10,000, a &gt;1 integer cell size will be chosen so that <em>num_cells</em> gets below 10,000.</li><li>the histogram range can be specified explicitly (via <a class="el" href="classcDensityEstBase.html#8eb5cea3b1bcda29076171b07a9325b9">setRange()</a>), or can be determined automatically, after collecting a number of initial observations (<a class="el" href="classcDensityEstBase.html#9b70b4e03a497f5833ac90d3a4a988ef">setRangeAuto()</a>, <a class="el" href="classcDensityEstBase.html#f3f765ec36b3e8f9ae66303be25e297c">setRangeAutoUpper()</a>, <a class="el" href="classcDensityEstBase.html#cb10286bad9070f82d7a746800359fff">setRangeAutoLower()</a>).</li><li>the number of inition observations to collect for range determination can be set via <a class="el" href="classcDensityEstBase.html#3084764bfa576847fc5b976bfaad8ef5">setNumFirstVals()</a>.</li><li>if both <em>num_cells</em> and a histogram range (explicit or auto) was specified, the histogram range will be inflated to be an integer multiple of <em>num_cells</em> (so that cell size can be integer).</li></ul>
<p>
Examples:<p>
This histogram will determine the range from the first few observations, then it will try to keep maintain 1 cell for each integer value in the range. If there would be more than 10,000 cells that way, it will make 2 or 3 or 4 etc. wide cells to reduce the number of cells below 10,000.<p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classcLongHistogram.html">cLongHistogram</a> hist(<span class="stringliteral">"hist"</span>);
</pre></div><p>
The following histogram will maintain one cell for every integer 0,1,...500.<p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classcLongHistogram.html">cLongHistogram</a> hist(<span class="stringliteral">"hist"</span>);
 hist.setRange(0,500);
</pre></div><p>
The next one will set up 100 cells, and the range will be auto-determined from the first few observations. If the range is &lt;100 wide, every cell will be 1 wide; with the range width in 100..200, cells will be 2 wide, etc.<p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classcLongHistogram.html">cLongHistogram</a> hist(<span class="stringliteral">"hist"</span>);
 hist.setNumCells(100);
</pre></div><p>
If you know that the numbers will be nonnegative, but you don't know their ranges, you can use the following (which will set up 20 cells, with the range 0..20, or 0..40, or 0..60 etc, depending on the range of the initial observations):<p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classcLongHistogram.html">cLongHistogram</a> hist(<span class="stringliteral">"hist"</span>);
 hist.setRangeAutoUpper(0);
 hist.setNumCells(20);
</pre></div> 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructors, destructor, assignment.</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcLongHistogram.html#a43b4682f0ec5aa97622e361b43b3546">cLongHistogram</a> (const <a class="el" href="classcLongHistogram.html">cLongHistogram</a> &amp;r)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcLongHistogram.html#41b4dffc6a1525f11c4d8b8bf8600946">cLongHistogram</a> (const char *name=NULL, int numcells=-1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcLongHistogram.html#b8e16df6782a9551eb6b1e47ef4c1baa">~cLongHistogram</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classcLongHistogram.html">cLongHistogram</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcLongHistogram.html#1515e4e06cf4be72e178f57470149ed5">operator=</a> (const <a class="el" href="classcLongHistogram.html">cLongHistogram</a> &amp;)</td></tr>

<tr><td colspan="2"><div class="groupHeader">Redefined cObject member functions.</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classcPolymorphic.html">cPolymorphic</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcLongHistogram.html#6dd27d0ede77d88fec30825a434a1ce5">dup</a> () const </td></tr>

<tr><td colspan="2"><div class="groupHeader">Redefined member functions from cStatistic and its subclasses.</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcLongHistogram.html#f402c24780a154ccc429a86e94d4d14b">collect</a> (double val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcLongHistogram.html#bfbed1a5fcc5ba886ebb54a62749e222">random</a> () const </td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcLongHistogram.html#03aed5c1b66b58f4084a6944ed235c1d">setupRange</a> ()</td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a43b4682f0ec5aa97622e361b43b3546"></a><!-- doxytag: member="cLongHistogram::cLongHistogram" ref="a43b4682f0ec5aa97622e361b43b3546" args="(const cLongHistogram &amp;r)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cLongHistogram::cLongHistogram           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classcLongHistogram.html">cLongHistogram</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>r</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Copy constructor. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="41b4dffc6a1525f11c4d8b8bf8600946"></a><!-- doxytag: member="cLongHistogram::cLongHistogram" ref="41b4dffc6a1525f11c4d8b8bf8600946" args="(const char *name=NULL, int numcells=-1)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cLongHistogram::cLongHistogram           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>numcells</em> = <code>-1</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [explicit]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b8e16df6782a9551eb6b1e47ef4c1baa"></a><!-- doxytag: member="cLongHistogram::~cLongHistogram" ref="b8e16df6782a9551eb6b1e47ef4c1baa" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual cLongHistogram::~cLongHistogram           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="f402c24780a154ccc429a86e94d4d14b"></a><!-- doxytag: member="cLongHistogram::collect" ref="f402c24780a154ccc429a86e94d4d14b" args="(double val)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void cLongHistogram::collect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>val</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Collects one value. 
<p>
Internally, the double is converted to long using floor() before everything else. 
<p>
Reimplemented from <a class="el" href="classcDensityEstBase.html#c8b8a15c4c2c2f0117992c28019623d5">cDensityEstBase</a>.    </td>
  </tr>
</table>
<a class="anchor" name="6dd27d0ede77d88fec30825a434a1ce5"></a><!-- doxytag: member="cLongHistogram::dup" ref="6dd27d0ede77d88fec30825a434a1ce5" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classcPolymorphic.html">cPolymorphic</a>* cLongHistogram::dup           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates and returns an exact copy of this object. 
<p>
See <a class="el" href="classcObject.html">cObject</a> for more details. 
<p>
Reimplemented from <a class="el" href="classcStdDev.html#cc7d65b628a749db73d229f756aee8eb">cStdDev</a>.    </td>
  </tr>
</table>
<a class="anchor" name="1515e4e06cf4be72e178f57470149ed5"></a><!-- doxytag: member="cLongHistogram::operator=" ref="1515e4e06cf4be72e178f57470149ed5" args="(const cLongHistogram &amp;)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classcLongHistogram.html">cLongHistogram</a>&amp; cLongHistogram::operator=           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classcLongHistogram.html">cLongHistogram</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Assignment is not supported by this class: this method throws a <a class="el" href="classcRuntimeError.html">cRuntimeError</a> when called. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="bfbed1a5fcc5ba886ebb54a62749e222"></a><!-- doxytag: member="cLongHistogram::random" ref="bfbed1a5fcc5ba886ebb54a62749e222" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual double cLongHistogram::random           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns a random number based on the distribution collected. 
<p>
If no values have been collected, it returns 0; when in initial collection phase, it returns one of the stored observations; after the histogram has been set up, a random integer is returned. 
<p>
Reimplemented from <a class="el" href="classcStdDev.html#5a14d103ec8bbfc3c0737b26d1aece3f">cStdDev</a>.    </td>
  </tr>
</table>
<a class="anchor" name="03aed5c1b66b58f4084a6944ed235c1d"></a><!-- doxytag: member="cLongHistogram::setupRange" ref="03aed5c1b66b58f4084a6944ed235c1d" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void cLongHistogram::setupRange           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called internally by <a class="el" href="classcHistogramBase.html#d117c20497a78c6cbc23f085e7b3e15a">transform()</a>, this method should determine and set up the histogram range. 
<p>

<p>
Reimplemented from <a class="el" href="classcEqdHistogramBase.html#9dde423af55aaf3b8966c6f2d1bbc830">cEqdHistogramBase</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="chist_8h-source.html">chist.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sun Nov 19 13:30:34 2006 for OMNeT++/OMNEST Simulation Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6 </small></address>
</body>
</html>
